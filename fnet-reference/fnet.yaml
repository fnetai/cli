name: fnet-reference

features:
  prunt_steps: true
  # print_runners: true
  runtime:
    type: bun

t::return-01::flows: g::file://./fnet/return/01.yaml
t::return-02::flows: g::file://./fnet/return/02.yaml
t::return-03::flows: g::file://./fnet/return/03.yaml
t::return-04::flows: g::file://./fnet/return/04.yaml
t::return-05::flows: g::file://./fnet/return/05.yaml
t::return-06::flows: g::file://./fnet/return/06.yaml
t::return-07::flows: g::file://./fnet/return/07.yaml
t::return-08::flows: g::file://./fnet/return/08.yaml
t::return-09::flows: g::file://./fnet/return/09.yaml
t::return-10::flows: g::file://./fnet/return/10.yaml

t::assign-01::flows: g::file://./fnet/assign/01.yaml
t::assign-02::flows: g::file://./fnet/assign/02.yaml
t::assign-03::flows: g::file://./fnet/assign/03.yaml
t::assign-04::flows: g::file://./fnet/assign/04.yaml
t::assign-05::flows: g::file://./fnet/assign/05.yaml

t::next-01::flows: g::file://./fnet/next/01.yaml
t::next-02::flows: g::file://./fnet/next/02.yaml
t::next-03::flows: g::file://./fnet/next/03.yaml

commands:
  base:
    usage: frun base --category <category> --index <index>
    steps:
      - fnet build --ftag {{args.category}}-{{args.index}}
      - cp ./fnet/flows.bpmn ./fnet/{{args.category}}/{{args.index}}.bpmn
      - fnet cli
    env:
      FNET_LOG_CATEGORIES: "tree,bpmn"

  all:
    usage: frun all
    steps:
      - frun return-01
      - frun return-02
      - frun return-03
      - frun return-04
      - frun return-05
      - frun return-06
      - frun return-07
      - frun return-08
      - frun return-09
      - frun return-10

  return-01: frun base --category return --index 01
  return-02: frun base --category return --index 02
  return-03: frun base --category return --index 03
  return-04: frun base --category return --index 04
  return-05: frun base --category return --index 05
  return-06: frun base --category return --index 06
  return-07: frun base --category return --index 07
  return-08: frun base --category return --index 08
  return-09: frun base --category return --index 09
  return-10: frun base --category return --index 10

  assign-01: frun base --category assign --index 01
  assign-02: frun base --category assign --index 02
  assign-03: frun base --category assign --index 03
  assign-04: frun base --category assign --index 04
  assign-05: frun base --category assign --index 05

  next-01: frun base --category next --index 01
  next-02: frun base --category next --index 02
  next-03: frun base --category next --index 03